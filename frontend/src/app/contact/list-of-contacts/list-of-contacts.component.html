<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">{{formTitle}}</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <app-contact-form [modal]="modal" [editedContact]="editedContact"
            (newContactEvent)="showMessageAndRefresh($event)"></app-contact-form>
    </div>
</ng-template>

<a id="notification" class="d-flex align-items-center flex-column justify-content-end">
    <ngb-alert #alert *ngIf="!alertClosed" (closed)="alertClosed = true" class="mb-2">{{alertMessage}}</ngb-alert>
</a>

<div class="d-flex flex-column align-items-center w-100">

    <button type="button" class="btn btn-outline-primary mb-3" (click)="onCreateContactButton(content)">Create new
        contact</button>

    <div class=" input-group mb-1">
        <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1">@</span>
        </div>
        <input #filter type="text" class="form-control" placeholder="Filter by email" aria-label="Email"
            aria-describedby="basic-addon1" (keyup)="refreshVisualLists(filter.value)">
    </div>

    <br>

    <div class="card w-100" *ngIf="contactsLoaded">
        <ul class="list-group list-group-flush">
            <li *ngFor="let contact of paginatedContactsList" class="list-group-item">
                <app-show-contact [contact]="contact" (onEditButton)="onEditContactButton(content, contact)"
                    (onRemoveButton)="onRemoveContactButton(contact)"></app-show-contact>
            </li>
        </ul>
    </div>

    <div class="spinner-border" role="status" *ngIf="!contactsLoaded">
        <span class="visually-hidden">Loading...</span>
    </div>

    <div class="mt-3">
        <ngb-pagination [collectionSize]="filteredContactsList.length" [(page)]="page" [pageSize]="pageSize"
            aria-label="Default pagination" (pageChange)="refreshVisualLists(filter.value)"></ngb-pagination>
    </div>

    <p>Contacts matching the filter: {{filteredContactsList.length}}</p>
</div>